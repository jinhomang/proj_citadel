{% extends "layout.html" %}

{% block body %}
<div class="row col-xs-12 col-md-10 col-md-offset-1">
	<div class="panel panel-default">
		<div class="panel-heading">
	    	<h3 class="panel-title"><strong>프로필 수정</strong></h3>
	  	</div>
		<div class="panel-body">
			<form action="{{ url_for('edit_profile') }}" name="profile_form" method=post>
				<dl class="form-group">
				<dt>
				  <div><label for="{{ form.name.id }}">{{ form.name.label }}</label></div>
				</dt>
				<dd>
				  	<div>{{ form.name(class="form-control", value=session.user_info.name) }}</div>					
					{% if form.name.errors %}
						{% for error in form.name.errors  %}
							<div class="error help-block"><li> {{ error }}</li></div>
						{% endfor %}
					{% endif %}			  
				</dd>
				</dl>
				<dl class="form-group">
				<dt>
				  <div><label for="{{ form.picture.id }}">{{ form.picture.label }}</label></div>
				</dt>
				<dd>
				  	<div>{{ form.picture(class="form-control", placeholder="프로필 사진 URL을 입력하세요", value=profile.picture) }}</div>			
					{% if form.picture.errors %}
						{% for error in form.picture.errors  %}
							<div class="error help-block"><li> {{ error }}</li></div>
						{% endfor %}
					{% endif %}			  
				</dd>
				</dl>
				<dl class="form-group">
				<dt>
				  <div><label for="{{ form.bio.id }}">{{ form.bio.label }}</label></div>
				</dt>
				<dd>
				  	<div>
				  		<textarea class="form-control" rows="4" id="{{ form.bio.id }}" name="{{ form.bio.name }}">{{ profile.bio }}</textarea>
				  	</div>
					{% if form.bio.errors %}
						{% for error in form.bio.errors  %}
							<div class="error help-block"><li> {{ error }}</li></div>
						{% endfor %}
					{% endif %}					  
				</dd>
				</dl>

				<dl class="form-group">
				<dt>
				  <div><label for="{{ form.url.id }}">{{form.url.label }}</label></div>
				</dt>
				<dd>
				  	<div>{{ form.url(class="form-control", value=profile.url) }}</div>
					{% if form.url.errors %}
						{% for error in form.url.errors  %}
							<div class="error help-block"><li> {{ error }}</li></div>
						{% endfor %}
					{% endif %}	
				</dd>
				</dl>

				<dl class="form-group">
				<dt>
				  <div><label for="{{ form.contact.id }}">{{form.contact.label }}</label></div>
				</dt>
				<dd>
				  	<div>{{ form.contact(class="form-control", value=profile.contact) }}</div>
					{% if form.contact.errors %}
						{% for error in form.contact.errors  %}
							<div class="error help-block"><li> {{ error }}</li></div>
						{% endfor %}
					{% endif %}					  	
				</dd>
				</dl> 

				<dl class="form-group">
				<dt>
				  <div><label for="{{ form.location.id }}">{{form.location.label }}</label></div>
				</dt>
				<dd>
				  	<div>{{ form.location(class="form-control", value=profile.location) }}</div>
					{% if form.location.errors %}
						{% for error in form.location.errors  %}
							<div class="error help-block"><li> {{ error }}</li></div>
						{% endfor %}
					{% endif %}					  	
				</dd>
				</dl> 

				<dl class="form-group">
			  	<dd>
			  		<button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span>수정완료</button>
 				</dd>
				</dl>			
			</form>
		</div>
	</div>
</div>
{% endblock %}

{% block script %}
<script>
$(document).ready(function(){
    $('dl.form-group:has(.error)').addClass('has-error');
    $('.has-error:first input:first').focus();  
});
{% endblock %}
</script>